# ============================================
# DOCKER-COMPOSE - Variables de Entorno
# ============================================
# Copiar este archivo a .env en la raíz del proyecto:
# cp env.example .env

# ============================================
# NOMBRES DE CONTENEDORES
# ============================================
LARAVEL_CONTAINER_NAME=laravel_backend
NGINX_CONTAINER_NAME=laravel_nginx
MYSQL_CONTAINER_NAME=laravel_mysql
FRONTEND_CONTAINER_NAME=nextjs_frontend
JENKINS_CONTAINER_NAME=jenkins_server
GITEA_CONTAINER_NAME=gitea_server

# ============================================
# NGINX CONFIGURATION
# ============================================
NGINX_HTTP_PORT=8080

# ============================================
# MYSQL CONFIGURATION
# ============================================
MYSQL_VERSION=8.0
MYSQL_PORT=3306
MYSQL_DATABASE=laravel
MYSQL_USER=laravel_user
MYSQL_PASSWORD=laravel_password
MYSQL_ROOT_PASSWORD=root_password

# ============================================
# LARAVEL BACKEND CONFIGURATION
# ============================================
APP_ENV=local
APP_DEBUG=true
RUN_SEEDERS=false

# Database connection
DB_CONNECTION=mysql
DB_HOST=mysql
DB_PORT=3306
DB_DATABASE=laravel
DB_USERNAME=laravel_user
DB_PASSWORD=laravel_password

# ============================================
# NEXT.JS FRONTEND CONFIGURATION
# ============================================
FRONTEND_PORT=3000
NEXT_PUBLIC_API_URL=http://localhost:8080/api

# ============================================
# JENKINS CONFIGURATION
# ============================================
# Credenciales del administrador de Jenkins
JENKINS_ADMIN_ID=admin
JENKINS_ADMIN_PASSWORD=admin123

# Puertos de Jenkins
JENKINS_HTTP_PORT=8081
JENKINS_AGENT_PORT=50000

# ============================================
# GITEA CONFIGURATION
# ============================================
GITEA_VERSION=latest
GITEA_HTTP_PORT=3001
GITEA_SSH_PORT=2223

# Configuración de acceso EXTERNO (desde el navegador/host)
# IMPORTANTE: Estos valores son para acceso desde fuera de Docker
# - GITEA_DOMAIN: Dominio o IP donde se accederá a Gitea desde el navegador
# - GITEA_ROOT_URL: URL completa donde se accederá a Gitea (debe incluir el puerto mapeado)
# NOTA: Para acceso local, usar 'localhost'. Para producción, usar el dominio real.
GITEA_DOMAIN=localhost
GITEA_ROOT_URL=http://localhost:3001

# Configuración interna de Docker (no modificar normalmente)
# NOTA: Dentro de la red Docker, los servicios se comunican usando el nombre del servicio
#       El servicio de Gitea se llama 'gitea' en docker-compose.yml
#       El puerto interno de Gitea es 3000 (no confundir con GITEA_HTTP_PORT que es el mapeo externo)
GITEA_USER_UID=1000
GITEA_USER_GID=1000

# Configuración de comunicación interna Docker (para gitea-bootstrap)
# NOTA: Estas variables son usadas por el script de inicialización
#       GITEA_HOST y GITEA_PORT están hardcodeados en docker-compose.yml pero se documentan aquí
#       MYSQL_HOST está hardcodeado en docker-compose.yml como 'mysql' (nombre del servicio)
MYSQL_HOST=mysql
GITEA_HOST=gitea
GITEA_PORT=3000
GITEA_REPO_PATH=/workspace

# Configuración de Base de Datos MySQL para Gitea
# (Auto-creación mediante script de inicialización)
GITEA_DB_NAME=gitea
GITEA_DB_USER=gitea_user
GITEA_DB_PASSWORD=gitea_password

# Configuración de Repositorios
# true = Todos los repositorios nuevos serán privados por defecto
# false = Los repositorios nuevos serán públicos por defecto
GITEA_DEFAULT_PRIVATE=true

# Desactivar creación de repositorios mediante push (seguridad)
GITEA_ENABLE_PUSH_CREATE_USER=false
GITEA_ENABLE_PUSH_CREATE_ORG=false

# Deshabilitar registro público (recomendado para producción)
GITEA_DISABLE_REGISTRATION=true

# Credenciales para usuario de Gitea (usadas por Jenkins)
GITEA_USERNAME=jenkins
GITEA_PASSWORD=jenkins123
GITEA_EMAIL=jenkins@example.com

# ============================================
# GITEA AUTO-INITIALIZATION
# ============================================
# Usuario administrador inicial de Gitea (creado automáticamente)
# NOTA: Estas credenciales se usan para crear el usuario admin en la primera ejecución
GITEA_ADMIN_USER=admin
GITEA_ADMIN_PASSWORD=admin123
GITEA_ADMIN_EMAIL=admin@example.com

# Configuración del repositorio a crear automáticamente
# Si GITEA_REPO_OWNER está vacío, usará el usuario admin (root)
# Recomendado: dejar vacío para usar el usuario admin, o usar "root" explícitamente
GITEA_REPO_OWNER=
GITEA_REPO_NAME=poli_integracion_continua
GITEA_REPO_PRIVATE=false
GITEA_REPO_DESCRIPTION=Proyecto de Integración Continua

# Push automático del repositorio local a Gitea
# true = Hace push automático del código local después de crear el repositorio
# false = Solo crea el repositorio vacío
# NOTA: El push usa las credenciales del usuario admin (GITEA_ADMIN_USER y GITEA_ADMIN_PASSWORD) para autenticación
# NOTA: Solo se hace push de commits existentes, no de cambios sin commitear
GITEA_AUTO_PUSH=true

# ============================================
# GENERAL CONFIGURATION
# ============================================
# Timezone
TZ=America/Bogota

# Docker Host (para Jenkins)
DOCKER_HOST=unix:///var/run/docker.sock

